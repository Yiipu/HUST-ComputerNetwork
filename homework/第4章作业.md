# 第四章

## P5

最长前缀匹配转发表：

| prefix | port |
|--|--|
|11100000 00|0|
|11100000 01000000|1|
|1110000|2|
|11100001 1|3|
|其他|3|

|ip|port|reason|
|--|--|--|
|11001000 10010001 01010001 01010101|3|没有匹配的前缀|
|11100001 01000000 11000011 00111100|2|匹配前缀 1110000|
|11100001 10000000 00010001 01110111|3|匹配前缀 1110000 和 11100001 1， 根据最长匹配规则，寻找最长的匹配项|

## P12

### 分配网络地址

|子网|地址段|
|--|--|
|A|214.97.254/24|
|B|214.97.255.0/25|
|C|214.97.255.128/25 - 214.97.255.248/29|
|D|214.97.255.248/31|
|E|214.97.255.250/31|
|F|214.97.255.252/31|

### 路由器转发表

#### R1

|prefix|port|
|--|--|
|11010110 01100001 11111110|A|
|11010110 01100001 11111111 0|D|
|11010110 01100001 11111111 1|F|

#### R2

|prefix|port|
|--|--|
|11010110 01100001 11111111 1|C|
|11010110 01100001 11111111 0|E|
|11010110 01100001 11111110|F|

#### R3

|prefix|port|
|--|--|
|11010110 01100001 11111111 0|B|
|11010110 01100001 11111111 1|E|
|11010110 01100001 11111110|D|

## P5.3

|步骤|$N'$|$D(t),p(t)$|$D(u),p(u)$|$D(v),p(v)$|$D(w),p(w)$|$D(y),p(y)$|$D(z),p(z)$|
|--|--|--|--|--|--|--|--|
|0|$x$|$\infty$|$\infty$|$3,x$|$6,x$|$6,x$|$8,x$|
|1|$x,v$|$7,v$|$6,v$|$3,x$|$6,x$|$6,x$|$8,x$|
|2|$x,v,u$|$7,v$|$6,v$|$3,x$|$6,x$|$6,x$|$8,x$|
|3|$x,v,u,w$|$7,v$|$6,v$|$3,x$|$6,x$|$6,x$|$8,x$|
|4|$x,v,u,w,y$|$7,v$|$6,v$|$3,x$|$6,x$|$6,x$|$8,x$|
|5|$x,v,u,w,y,t$|$7,v$|$6,v$|$3,x$|$6,x$|$6,x$|$8,x$|
|6|$x,v,u,w,y,t,z$|$7,v$|$6,v$|$3,x$|$6,x$|$6,x$|$8,x$|
